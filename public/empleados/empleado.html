<section ng-controller="EmpleadosController">
  <div class="row">
    <div class="col-sm-2"></div>
    <div class="panel panel-info col-sm-8">
      <div class="panel-heading">
        <h3 class="panel-title text-center"><span class="glyphicon glyphicon-info-sign"> Información del empleado</span></h3>
        <a href="/app.html#/empleados" class="btn btn-info btn-sm ">
          <span class="glyphicon glyphicon-list-all"></span> Volver
        </a>
        <br/>
        <p class="text-danger text-right" ng-if="(empleado != undefined && msg != undefined && msg.error != undefined)">
          <span class="glyphicon glyphicon-warning-sign"> {{ msg.error }}  {{ msg.ahora | date:'medium' }}</span>
        </p>
        <p class="text-warning text-right" ng-if="(empleado != undefined && msg != undefined && msg.warn != undefined)">
          <span class="glyphicon glyphicon-warning-sign"> {{ msg.warn }}  {{ msg.ahora | date:'medium' }}</span>
        </p>
        <p class="text-success text-right" ng-if="(empleado != undefined && msg != undefined && msg.info != undefined)">
          <span class="glyphicon glyphicon-info-sign"> {{ msg.info }} {{ msg.ahora | date:'medium' }}</span>
        </p>
      </div>
      <div class="panel body">
        <form class="form-vertical" ng-submit="submit()" ng-if="empleado != undefined">
          <div class="row">
            <div class="form-group">
              <label for="nombre" class="control-label col-xs-1">Nombre: </label>
              <div class="col-xs-4">
                <input type="text" class="form-control" placeholder="nombre del empleado" ng-model="empleado.nombre" ng-required name="nombre">
              </div>
              <label for="apellidos" class="control-label col-xs-1">Apellidos: </label>
              <div class="col-xs-6">
                <input type="text" class="form-control" placeholder="Apellidos del empleado" ng-model="empleado.apellidos" ng-required name="apellidos">
              </div>
            </div>
            <div class="form-group">
              <label for="nif" class="control-label col-xs-1">D.N.I.: </label>
              <div class="col-xs-5">
                <input class="form-control" placeholder="D.N.I. del empleado" ng-model="empleado.nif" ng-required name="nif">
              </div>
              <label for="tipo" class="control-label col-xs-1">Tipo: </label>
              <div class="col-xs-5">
                <select class="form-control" ng-model="empleado.tipo" ng-options="opt.valor as opt.descrip for opt in tipoEmpleado" ng-change="obtenerGrupo()"></select>
              </div>
            </div>
            <div class="form-group">
              <label for="grupo" class="control-label col-xs-1">Grupo: </label>
              <div class="col-xs-5">
                <select class="form-control" ng-model="empleado.grupo" ng-options="opt.valor as ((opt.valor == null) ? '': opt.valor) + ' - ' + opt.descrip for opt in grupo"></select>
              </div>
              <label for="categoria" class="control-label col-xs-1">Categoría: </label>
              <div class="col-xs-2">
                <input class="form-control" placeholder="Categoria del empleado" ng-model="empleado.categoria" aria-describedby="categoria">
              </div>              
              <label for="puesto" class="control-label col-xs-1">Puesto: </label>
              <div class="col-xs-2">
                <input class="form-control" placeholder="Puesto" ng-model="empleado.puesto" aria-describedby="titpuesto">
              </div>              
            </div>

            <div class="form-group">
              <label for="telef" class="control-label col-xs-1"><span class="glyphicon glyphicon-phone-alt"></span></label>
              <div class="col-xs-3">
                <input class="form-control" placeholder="nº teléfono" ng-model="empleado.telef" ng-pattern="/^\d+$/" ng-minlength="9" aria-describedby="telef">
              </div>              
              <label for="movil" class="control-label col-xs-1"><span class="glyphicon glyphicon-phone"></span></label>
              <div class="col-xs-3">
                <input class="form-control" placeholder="nº de móvil" ng-model="empleado.movil" ng-pattern="/^\d+$/" ng-minlength="9" aria-describedby="movil">
              </div>              
              <label for="mail" class="control-label col-xs-1"><span class="glyphicon glyphicon-envelope"></span></label>
              <div class="col-xs-3">
                <input class="form-control" type="email" placeholder="correo electrónico" ng-model="empleado.mail" aria-describedby="mail">
              </div>              
            </div>
            <div class="form-group">
              <label for="situacion" class="control-label col-xs-1">Situación:</label>
              <div class="col-xs-3">
                <select class="form-control" ng-model="empleado.situacion" ng-options="opt.valor as opt.descrip for opt in situacion"></select>
              </div>
            </div>
            <div class="form-group text-center">
              <div class="col-xs-12">
                <button type="submit" class="btn btn-default" id="submit"><span class="glyphicon glyphicon-save"></span> Grabar </button>
              </div>
              
            </div>
          </div>
        </form>
      </div>
    </div>
</section>